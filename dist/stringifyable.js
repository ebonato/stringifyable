/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
function p(){var g=function(){var g=function(){function a(c,a){return Object.prototype.hasOwnProperty.call(c,a)}return{C:function(c,a){if(c===a)return!0;var b=!!a&&"function"===typeof a.valueOf;return!!c&&"function"===typeof c.valueOf&&b&&c.valueOf()===a.valueOf()},extend:function(a,k){Array.prototype.slice.call(arguments,1).forEach(function(c){for(var b=Object.keys(c),f=0,e=b.length;f<e;f++){var m=b[f],d=Object.getOwnPropertyDescriptor(c,m);void 0!==d&&d.enumerable&&Object.defineProperty(a,m,d)}});
return a},I:function(c,k){for(var b in c)a(c,b)&&k(b,c[b])},s:a,K:function(c,k){var b={},g;for(g in c)a(c,g)&&(b[g]=k(c[g],g,c));return b}}}();return function(a,c,k){return{f:a,b:c,l:k}}(function(a){function c(f){return f.filter(function(e,f,d){return d.lastIndexOf(e)===f})}function k(f,e){for(var a=f.length,d=-1,h=0;h<a;++h)if(e(f[h])){if(0<=d)throw Error("Multiple elements match the predicate.");d=h}return d}function b(f,e){return f&&"function"===typeof f.valueOf&&e&&"function"===typeof e.valueOf?
f.valueOf()<=e.valueOf()?f.valueOf()<e.valueOf()?-1:0:1:f<=e?f<e?-1:0:1}function g(f,e,a){var d=f.length,h=Array(d),c=Array(d),b;for(b=0;b<d;++b)h[b]=b,c[b]=f[b];!0===a&&(a=f,f=c,c=a);h.sort(function(d,a){return e(f[d],f[a])||d-a});for(b=0;b<d;++b)c[b]=f[h[b]];return c}return{contains:function(a,e){return 0<=a.indexOf(e)},G:function(f){if(50<f.length){for(var e=f.length,b={},d,h=0;h<e;++h)if(d=f[h],"string"===typeof d)if(a.s(b,d))break;else b[d]=!0;else if(f.lastIndexOf(d)!==h)break;if(!(h>=e)){for(var n=
f.slice(0,h);h<e;++h)d=f[h],"string"===typeof d?a.s(b,d)||(b[d]=!0,n.push(d)):f.lastIndexOf(d)===h&&n.push(d);f=n}}else f=c(f);return f},H:function(a,e){return Array.prototype.concat.apply([],a.map(e))},M:function(a,e){e=k(a,e);if(0>e)throw Error("None of the elements matches the predicate.");return a[e]},N:function(a,e){e=k(a,e);return 0<=e?a[e]:null},O:function(a,e){e=e||b;window.chrome?a=g(a,e,!0):a.sort(e);return a}}}(g),g,{D:function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},
F:function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})},format:function(a){var c=arguments;return a.replace(/{(\d+)}/g,function(a,b){b=parseInt(b,10)+1;return typeof c.length<=b?a:c[b]})}})}();var l=function(g){return function(a,c){return g.b.extend(a,{get stringifyable(){return c()}})}}(g);var q=function(g,a){function c(){return 0}function k(a,b){return"string"===typeof a&&"string"===typeof b?a.localeCompare(b):a<=b?a<b?-1:0:1}function b(a,b){return g.b.extend(a,{get onResultOf(){return this.i},
get reverse(){return this.reverse},get callable(){return this.h}},{get i(){return function(d){return r(d,a)}},get reverse(){return function(){return b||f(a)}},get h(){return a}})}function r(e,c){function d(a,d){return c(e(a),e(d))}b(d);a(d,function(){return{type:"by-function-comparator","function":e.stringifyable,comparator:c.stringifyable}});return d}function f(c){function e(a,b){return-c(a,b)}b(e,c);a(e,function(){return{type:"reversed-comparator",comparator:c.stringifyable}});return e}b(k);a(k,
function(){return{type:"natural-comparator"}});b(c);a(c,function(){return{type:"indifferent-comparator"}});return{J:c,L:k}}(g,l);var t=function(g,a){function c(a){return g.b.extend(a,{get callable(){return this.h}},{get h(){return a}})}return{v:function(g){function b(a){return-1==g.indexOf(".")?a[g]:eval("owner."+g)}c(b);a(b,function(){return{type:"property-accessor",propertyName:g}});return b}}}(g,l);g=function(g,a){function c(){return!0}function k(){return!1}function b(a,b){return g.b.extend(a,
{get and(){return this.and},get negate(){return this.u},get onResultOf(){return this.i},get or(){return this.or},get callable(){return this.h}},{get and(){return function(b){return l([a,b])}},get u(){return function(){return b||e(a)}},get i(){return function(b){return f(b,a)}},get or(){return function(b){return m([a,b])}},get h(){return a}})}function l(d){function e(a){for(var b=0,c=d.length;b<c;++b)if(!d[b](a))return!1;return!0}if(!d.length)return c;b(e);a(e,function(){return{type:"and-predicate",
components:d.map(function(a){return a.stringifyable})}});return e}function f(d,c){function e(a){return c(d(a))}b(e);a(e,function(){return{type:"by-function-predicate","function":d.stringifyable,predicate:c.stringifyable}});return e}function e(d){function c(a){return!d(a)}b(c,d);a(c,function(){return{type:"negated-predicate",predicate:d.stringifyable}});return c}function m(d){function c(a){for(var b=0,c=d.length;b<c;++b)if(d[b](a))return!0;return!1}if(!d.length)return k;b(c);a(c,function(){return{type:"or-predicate",
components:d.map(function(a){return a.stringifyable})}});return c}b(k);a(k,function(){return{type:"always-false-predicate"}});b(c);a(c,function(){return{type:"always-true-predicate"}});return{A:k,B:c,and:l,from:function(c,e){function d(a){return c(a)}b(d);a(d,e);return d},or:m,w:function(c){function d(a){return c.test(a)}b(d);a(d,function(){return{type:"regular-expression-predicate",regularExpression:c.source,caseSensitive:!c.ignoreCase,multiline:c.multiline}});return d}}}(g,l);return{comparators:{indifferent:q.J,
natural:q.L},functions:{propertyAccessor:t.v},predicates:{alwaysFalse:g.A,alwaysTrue:g.B,and:g.and,from:g.from,or:g.or,regularExpression:g.w},makeStringifyable:l,stringifyReplacer:function(g,a){return"function"===typeof a||"object"===typeof a?a.stringifyable||a:a}}}"function"===typeof define&&define.amd?define([],p):window.stringifyable=p();