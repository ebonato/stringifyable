/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
function r(){var g,p,q,t;g=function(){var g;g=function(){function a(c,a){return Object.prototype.hasOwnProperty.call(c,a)}return{F:function(c,a){if(c===a)return!0;var e=!!a&&"function"===typeof a.valueOf;return!!c&&"function"===typeof c.valueOf&&e&&c.valueOf()===a.valueOf()},extend:function(a,f){Array.prototype.slice.call(arguments,1).forEach(function(c){for(var e=Object.keys(c),b=0,n=e.length;b<n;b++){var m=e[b],d=Object.getOwnPropertyDescriptor(c,m);d&&d.enumerable&&Object.defineProperty(a,m,d)}});
return a},K:function(c,f){for(var e in c)a(c,e)&&f(e,c[e])},v:a,M:function(c,f){var e={},l;for(l in c)a(c,l)&&(e[l]=f(c[l],l,c));return e}}}();return function(a,c,f){return{f:a,b:c,o:f}}(function(a){function c(b){return b.filter(function(b,a,d){return d.lastIndexOf(b)===a})}function f(b,a){for(var n=b.length,d=-1,h=0;h<n;++h)if(a(b[h])){if(0<=d)throw Error("Multiple elements match the predicate.");d=h}return d}function e(b,a){return b&&"function"===typeof b.valueOf&&a&&"function"===typeof a.valueOf?
b.valueOf()<=a.valueOf()?b.valueOf()<a.valueOf()?-1:0:1:b<=a?b<a?-1:0:1}function l(a,c){var b=a.length,d=Array(b),h=Array(b),k;for(k=0;k<b;++k)d[k]=k,h[k]=a[k];k=a;a=h;h=k;d.sort(function(d,b){return c(a[d],a[b])||d-b});for(k=0;k<b;++k)h[k]=a[d[k]];return h}return{contains:function(a,c){return 0<=a.indexOf(c)},I:function(b){if(50<b.length){for(var n=b.length,m={},d,h=0;h<n;++h)if(d=b[h],"string"===typeof d)if(a.v(m,d))break;else m[d]=!0;else if(b.lastIndexOf(d)!==h)break;if(!(h>=n)){for(var k=b.slice(0,
h);h<n;++h)d=b[h],"string"===typeof d?a.v(m,d)||(m[d]=!0,k.push(d)):b.lastIndexOf(d)===h&&k.push(d);b=k}}else b=c(b);return b},J:function(a,c){return Array.prototype.concat.apply([],a.map(c))},O:function(a,c){var b=f(a,c);if(0>b)throw Error("None of the elements matches the predicate.");return a[b]},P:function(a,c){var b=f(a,c);return 0<=b?a[b]:null},R:function(a,c){var b=c||e;window.chrome?b=l(a,b):(a.sort(b),b=a);return b}}}(g),g,{G:function(a){return a.replace(/([A-Z])/g,function(a){return"-"+
a.toLowerCase()})},H:function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})},format:function(a){var c=arguments;return a.replace(/{(\d+)}/g,function(a,e){var f=parseInt(e,10)+1;return typeof c.length<=f?a:c[f]})}})}();p=function(g){return function(a,c){return g.b.extend(a,{get stringifyable(){return c()}})}}(g);q=function(g,a){function c(){return 0}function f(a,b){return"string"===typeof a&&"string"===typeof b?a.localeCompare(b):a<=b?a<b?-1:0:1}function e(a,c){g.b.extend(a,
{get onResultOf(){return this.j},get reverse(){return this.reverse},get callable(){return this.i}},{get j(){return function(d){return l(d,a)}},get reverse(){return function(){return c||b(a)}},get i(){return a}})}function l(b,c){function d(a,d){return c(b(a),b(d))}e(d);a(d,function(){return{type:"by-function-comparator","function":b.stringifyable,comparator:c.stringifyable}});return d}function b(b){function c(a,c){return-b(a,c)}e(c,b);a(c,function(){return{type:"reversed-comparator",comparator:b.stringifyable}});
return c}e(f);a(f,function(){return{type:"natural-comparator"}});e(c);a(c,function(){return{type:"indifferent-comparator"}});return{L:c,N:f}}(g,p);t=function(g,a){function c(a){g.b.extend(a,{get callable(){return this.i}},{get i(){return a}})}return{A:function(f){function e(a){return-1==f.indexOf(".")?a[f]:eval("owner."+f)}c(e);a(e,function(){return{type:"property-accessor",propertyName:f}});return e}}}(g,p);g=function(g,a){function c(){return!0}function f(){return!1}function e(a,c){g.b.extend(a,
{get and(){return this.h},get negate(){return this.w},get onResultOf(){return this.j},get or(){return this.l},get callable(){return this.i}},{get h(){return function(b){return l([a,b])}},get w(){return function(){return c||n(a)}},get j(){return function(c){return b(c,a)}},get l(){return function(b){return m([a,b])}},get i(){return a}})}function l(b){function d(a){for(var c=0,d=b.length;c<d;++c)if(!b[c](a))return!1;return!0}if(!b.length)return c;e(d);a(d,function(){return{type:"and-predicate",components:b.map(function(a){return a.stringifyable})}});
return d}function b(b,c){function d(a){return c(b(a))}e(d);a(d,function(){return{type:"by-function-predicate","function":b.stringifyable,predicate:c.stringifyable}});return d}function n(b){function c(a){return!b(a)}e(c,b);a(c,function(){return{type:"negated-predicate",predicate:b.stringifyable}});return c}function m(b){function c(a){for(var c=0,d=b.length;c<d;++c)if(b[c](a))return!0;return!1}if(!b.length)return f;e(c);a(c,function(){return{type:"or-predicate",components:b.map(function(a){return a.stringifyable})}});
return c}e(f);a(f,function(){return{type:"always-false-predicate"}});e(c);a(c,function(){return{type:"always-true-predicate"}});return{C:f,D:c,h:l,from:function(b,c){function d(a){return b(a)}e(d);a(d,c);return d},l:m,B:function(b){function c(a){return b.test(a)}e(c);a(c,function(){return{type:"regular-expression-predicate",regularExpression:b.source,caseSensitive:!b.ignoreCase,multiline:b.multiline}});return c}}}(g,p);return{comparators:{indifferent:q.L,natural:q.N},functions:{propertyAccessor:t.A},
predicates:{alwaysFalse:g.C,alwaysTrue:g.D,and:g.h,from:g.from,or:g.l,regularExpression:g.B},makeStringifyable:p,stringifyReplacer:function(g,a){return"function"===typeof a||"object"===typeof a?a.stringifyable||a:a}}}"function"===typeof define&&define.amd?define([],r):window.stringifyable=r();